<?php /* Smarty version Smarty-3.1.21-dev, created on 2015-08-05 22:32:34
         compiled from "F:\WF3\htdocs\ENV\app\views\partials\footer.tpl" */ ?>
<?php /*%%SmartyHeaderCode:1954655c272e26a0a29-99748891%%*/if(!defined('SMARTY_DIR')) exit('no direct access allowed');
$_valid = $_smarty_tpl->decodeProperties(array (
  'file_dependency' => 
  array (
    '09bfaf4fa1ca5eacd82536b8cad3331186eb760d' => 
    array (
      0 => 'F:\\WF3\\htdocs\\ENV\\app\\views\\partials\\footer.tpl',
      1 => 1438516165,
      2 => 'file',
    ),
  ),
  'nocache_hash' => '1954655c272e26a0a29-99748891',
  'function' => 
  array (
  ),
  'variables' => 
  array (
    'JS_ROOT' => 0,
    'HTTP_ROOT' => 0,
  ),
  'has_nocache_code' => false,
  'version' => 'Smarty-3.1.21-dev',
  'unifunc' => 'content_55c272e26ac5a5_98336089',
),false); /*/%%SmartyHeaderCode%%*/?>
<?php if ($_valid && !is_callable('content_55c272e26ac5a5_98336089')) {function content_55c272e26ac5a5_98336089($_smarty_tpl) {?><?php if (!is_callable('smarty_block_t')) include 'F:\\WF3\\htdocs\\ENV\\app\\core\\Smarty\\plugins\\block.t.php';
?>
  </div><!-- .container.blog-content -->

	<footer class="blog-footer">
      <section class="copyright">
        <div class="container">
          <div class="row" id="logo-footer">
            <div class="col-md-12">
                <span>
                  <a href="#"><?php $_smarty_tpl->smarty->_tag_stack[] = array('t', array()); $_block_repeat=true; echo smarty_block_t(array(), null, $_smarty_tpl, $_block_repeat);while ($_block_repeat) { ob_start();?>
Back to top<?php $_block_content = ob_get_clean(); $_block_repeat=false; echo smarty_block_t(array(), $_block_content, $_smarty_tpl, $_block_repeat);  } array_pop($_smarty_tpl->smarty->_tag_stack);?>
</a>
                </span>
                <p>
                  <a href="http://www.webforce3.fr" title="Mentions lÃ©gales">Web Force 3</a>
                </p>
            </div>
          </div>
        </div>
      </section>
  </footer>

  <?php echo $_smarty_tpl->getSubTemplate ("partials/debug.tpl", $_smarty_tpl->cache_id, $_smarty_tpl->compile_id, 0, null, array(), 0);?>


	<?php echo '<script'; ?>
 src="<?php echo $_smarty_tpl->tpl_vars['JS_ROOT']->value;?>
jquery.min.js"><?php echo '</script'; ?>
>
	<?php echo '<script'; ?>
 src="<?php echo $_smarty_tpl->tpl_vars['JS_ROOT']->value;?>
bootstrap.min.js"><?php echo '</script'; ?>
>
  <?php echo '<script'; ?>
 src="<?php echo $_smarty_tpl->tpl_vars['JS_ROOT']->value;?>
bootstrap-checkbox.js"><?php echo '</script'; ?>
>

  <?php echo '<script'; ?>
>

  var HTTP_ROOT = '<?php echo $_smarty_tpl->tpl_vars['HTTP_ROOT']->value;?>
';

  
  $(document).ready(function() {

    var checkbox_options = {
      buttonStyle: 'btn-default',
      buttonStyleChecked: 'btn-success',
      checkedClass: 'icon-check',
      uncheckedClass: 'icon-check-empty'
    };

    $('input[type="checkbox"].checkbox-control').each(function() {

      var type = typeof($(this).data('checked')) !== 'undefined' ? $(this).data('checked') : 'default';

      checkbox_options.buttonStyleChecked = 'btn-'+type;

      $(this).checkbox(checkbox_options);

      $(this).unbind('click').bind('click', function() {

        var student_id = $(this).closest('.presence').data('id');
        var action = $(this).attr('name');
        var day = parseInt($.now() / 1000);
        var value = $(this).prop('checked') ? 1 : 0;

        $.ajax({
          method: "POST",
          url: HTTP_ROOT+"presence/update",
          data: {student_id: student_id, action: action, value: value, day: day},
          dataType: 'json'
        })
        .done(function(result) {
          if (typeof(result.error) !== 'undefined') {
            alert(result.error);
          } else {
            var actions = {'r1':true, 'r2':true, 'd1':true, 'd2':true, 'absent':true};
            for (var i in result) {

               if (typeof(actions[i]) !== 'undefined' && actions[i] === true) {

                var checked = parseInt(result[i]) ? true : false;

                console.log(i, result[i], value, '#presence-'+result.student_id+' input.'+i, checked);

                //checkbox_options.checked = checked;

                //$('#presence-'+result.student_id+' .'+i).checkbox(checkbox_options);
                $('#presence-'+result.student_id+' input.'+i).checkbox({'checked': checked});
              }
            }
          }
        });

      });

    });

    $('[data-toggle="tooltip"]').tooltip({
      container: 'body'
    })

  });
  
  <?php echo '</script'; ?>
>

</body>
</html>
<?php }} ?>
